!function(){if($(".color-form-group").hasClass("color-floating-label")){var t=$(".color-floating-label");t.find("input").on("input",function(){var t=$(this);t.val().length>0?t.addClass("edited"):t.removeClass("edited")})}}(),window.colorDate=function(){var t=function(){this.gearDate,this.minY=1900,this.minM=1,this.minD=1,this.maxY=2099,this.maxM=12,this.maxD=31};return t.prototype={init:function(t){if(this.type=t.type,this.trigger=document.querySelector(t.trigger),null!=this.trigger.getAttribute("data-colorDate")){var e=this.trigger.getAttribute("data-colorDate").split(","),i=e[0].split("-");this.minY=~~i[0],this.minM=~~i[1],this.minD=~~i[2];var a=e[1].split("-");this.maxY=~~a[0],this.maxM=~~a[1],this.maxD=~~a[2]}if(t.minDate){var i=t.minDate.split("-");this.minY=~~i[0],this.minM=~~i[1],this.minD=~~i[2]}if(t.maxDate){var a=t.maxDate.split("-");this.maxY=~~a[0],this.maxM=~~a[1],this.maxD=~~a[2]}this.bindEvent(this.type)},bindEvent:function(t){function e(t){D.gearDate=document.createElement("div"),D.gearDate.className="gearDate",D.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn colorDate_cancel">关闭</div><div class="date_btn colorDate_finish">确定</div></div><div class="date_roll_mask"><div class="date_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div></div></div></div>',document.body.appendChild(D.gearDate),i();var e=D.gearDate.querySelector(".colorDate_cancel");e.addEventListener("touchstart",f);var a=D.gearDate.querySelector(".colorDate_finish");a.addEventListener("touchstart",b);var n=D.gearDate.querySelector(".date_yy"),s=D.gearDate.querySelector(".date_mm"),r=D.gearDate.querySelector(".date_dd");n.addEventListener("touchstart",h),s.addEventListener("touchstart",h),r.addEventListener("touchstart",h),n.addEventListener("touchmove",v),s.addEventListener("touchmove",v),r.addEventListener("touchmove",v),n.addEventListener("touchend",m),s.addEventListener("touchend",m),r.addEventListener("touchend",m)}function i(){var t=new Date,e={yy:t.getFullYear(),mm:t.getMonth(),dd:t.getDate()-1};/^\d{4}-\d{1,2}-\d{1,2}$/.test(D.trigger.value)?(rs=D.trigger.value.match(/(^|-)\d{1,4}/g),e.yy=rs[0]-D.minY,e.mm=rs[1].replace(/-/g,"")-1,e.dd=rs[2].replace(/-/g,"")-1):e.yy=e.yy-D.minY,D.gearDate.querySelector(".date_yy").setAttribute("val",e.yy),D.gearDate.querySelector(".date_mm").setAttribute("val",e.mm),D.gearDate.querySelector(".date_dd").setAttribute("val",e.dd),d()}function a(t){D.gearDate=document.createElement("div"),D.gearDate.className="gearDate",D.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn colorDate_cancel">关闭</div><div class="date_btn colorDate_finish">确定</div></div><div class="date_roll_mask"><div class="ym_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div></div></div></div>',document.body.appendChild(D.gearDate),n();var e=D.gearDate.querySelector(".colorDate_cancel");e.addEventListener("touchstart",f);var i=D.gearDate.querySelector(".colorDate_finish");i.addEventListener("touchstart",y);var a=D.gearDate.querySelector(".date_yy"),s=D.gearDate.querySelector(".date_mm");a.addEventListener("touchstart",h),s.addEventListener("touchstart",h),a.addEventListener("touchmove",v),s.addEventListener("touchmove",v),a.addEventListener("touchend",m),s.addEventListener("touchend",m)}function n(){var t=new Date,e={yy:t.getFullYear(),mm:t.getMonth()};/^\d{4}-\d{1,2}$/.test(D.trigger.value)?(rs=D.trigger.value.match(/(^|-)\d{1,4}/g),e.yy=rs[0]-D.minY,e.mm=rs[1].replace(/-/g,"")-1):e.yy=e.yy-D.minY,D.gearDate.querySelector(".date_yy").setAttribute("val",e.yy),D.gearDate.querySelector(".date_mm").setAttribute("val",e.mm),d()}function s(t){D.gearDate=document.createElement("div"),D.gearDate.className="gearDatetime",D.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn colorDate_cancel">关闭</div><div class="date_btn colorDate_finish">确定</div></div><div class="date_roll_mask"><div class="datetime_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div>',document.body.appendChild(D.gearDate),r();var e=D.gearDate.querySelector(".colorDate_cancel");e.addEventListener("touchstart",f);var i=D.gearDate.querySelector(".colorDate_finish");i.addEventListener("touchstart",_);var a=D.gearDate.querySelector(".date_yy"),n=D.gearDate.querySelector(".date_mm"),s=D.gearDate.querySelector(".date_dd"),o=D.gearDate.querySelector(".time_hh"),l=D.gearDate.querySelector(".time_mm");a.addEventListener("touchstart",h),n.addEventListener("touchstart",h),s.addEventListener("touchstart",h),o.addEventListener("touchstart",h),l.addEventListener("touchstart",h),a.addEventListener("touchmove",v),n.addEventListener("touchmove",v),s.addEventListener("touchmove",v),o.addEventListener("touchmove",v),l.addEventListener("touchmove",v),a.addEventListener("touchend",m),n.addEventListener("touchend",m),s.addEventListener("touchend",m),o.addEventListener("touchend",m),l.addEventListener("touchend",m)}function r(){var t=new Date,e={yy:t.getFullYear(),mm:t.getMonth(),dd:t.getDate()-1,hh:t.getHours(),mi:t.getMinutes()};/^\d{4}-\d{1,2}-\d{1,2}\s\d{2}:\d{2}$/.test(D.trigger.value)?(rs=D.trigger.value.match(/(^|-|\s|:)\d{1,4}/g),e.yy=rs[0]-D.minY,e.mm=rs[1].replace(/-/g,"")-1,e.dd=rs[2].replace(/-/g,"")-1,e.hh=parseInt(rs[3].replace(/\s0?/g,"")),e.mi=parseInt(rs[4].replace(/:0?/g,""))):e.yy=e.yy-D.minY,D.gearDate.querySelector(".date_yy").setAttribute("val",e.yy),D.gearDate.querySelector(".date_mm").setAttribute("val",e.mm),D.gearDate.querySelector(".date_dd").setAttribute("val",e.dd),d(),D.gearDate.querySelector(".time_hh").setAttribute("val",e.hh),D.gearDate.querySelector(".time_mm").setAttribute("val",e.mi),c()}function o(t){D.gearDate=document.createElement("div"),D.gearDate.className="gearDate",D.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn colorDate_cancel">关闭</div><div class="date_btn colorDate_finish">确定</div></div><div class="date_roll_mask"><div class="time_roll"><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div>',document.body.appendChild(D.gearDate),l();var e=D.gearDate.querySelector(".colorDate_cancel");e.addEventListener("touchstart",f);var i=D.gearDate.querySelector(".colorDate_finish");i.addEventListener("touchstart",x);var a=D.gearDate.querySelector(".time_hh"),n=D.gearDate.querySelector(".time_mm");a.addEventListener("touchstart",h),n.addEventListener("touchstart",h),a.addEventListener("touchmove",v),n.addEventListener("touchmove",v),a.addEventListener("touchend",m),n.addEventListener("touchend",m)}function l(){var t=new Date,e={hh:t.getHours(),mm:t.getMinutes()};/^\d{2}:\d{2}$/.test(D.trigger.value)&&(rs=D.trigger.value.match(/(^|:)\d{2}/g),e.hh=parseInt(rs[0].replace(/^0?/g,"")),e.mm=parseInt(rs[1].replace(/:0?/g,""))),D.gearDate.querySelector(".time_hh").setAttribute("val",e.hh),D.gearDate.querySelector(".time_mm").setAttribute("val",e.mm),c()}function d(){var t=D.maxY-D.minY+1,e=D.gearDate.querySelector(".date_yy"),i="";if(e&&e.getAttribute("val")){for(var a=parseInt(e.getAttribute("val")),n=0;n<=t-1;n++)i+="<div class='tooth'>"+(D.minY+n)+"</div>";e.innerHTML=i;var s=Math.floor(parseFloat(e.getAttribute("top")));if(isNaN(s))e.style["-webkit-transform"]="translate3d(0,"+(8-2*a)+"em,0)",e.setAttribute("top",8-2*a+"em");else{s%2==0?s=s:s+=1,s>8&&(s=8);var r=8-2*(t-1);s<r&&(s=r),e.style["-webkit-transform"]="translate3d(0,"+s+"em,0)",e.setAttribute("top",s+"em"),a=Math.abs(s-8)/2,e.setAttribute("val",a)}var o=D.gearDate.querySelector(".date_mm");if(o&&o.getAttribute("val")){i="";var l=parseInt(o.getAttribute("val")),d=11,c=0;a==t-1&&(d=D.maxM-1),0==a&&(c=D.minM-1);for(var n=0;n<d-c+1;n++)i+="<div class='tooth'>"+(c+n+1)+"</div>";o.innerHTML=i,l>d?(l=d,o.setAttribute("val",l)):l<c&&(l=d,o.setAttribute("val",l)),o.style["-webkit-transform"]="translate3d(0,"+(8-2*(l-c))+"em,0)",o.setAttribute("top",8-2*(l-c)+"em");var h=D.gearDate.querySelector(".date_dd");if(h&&h.getAttribute("val")){i="";var v=parseInt(h.getAttribute("val")),m=u(a,l),g=m-1,p=0;a==t-1&&D.maxM==l+1&&(g=D.maxD-1),0==a&&D.minM==l+1&&(p=D.minD-1);for(var n=0;n<g-p+1;n++)i+="<div class='tooth'>"+(p+n+1)+"</div>";h.innerHTML=i,v>g?(v=g,h.setAttribute("val",v)):v<p&&(v=p,h.setAttribute("val",v)),h.style["-webkit-transform"]="translate3d(0,"+(8-2*(v-p))+"em,0)",h.setAttribute("top",8-2*(v-p)+"em")}}}}function c(){var t=D.gearDate.querySelector(".time_hh");if(t&&t.getAttribute("val")){for(var e="",i=parseInt(t.getAttribute("val")),a=0;a<=23;a++)e+="<div class='tooth'>"+a+"</div>";t.innerHTML=e,t.style["-webkit-transform"]="translate3d(0,"+(8-2*i)+"em,0)",t.setAttribute("top",8-2*i+"em");var n=D.gearDate.querySelector(".time_mm");if(n&&n.getAttribute("val")){for(var e="",s=parseInt(n.getAttribute("val")),a=0;a<=59;a++)e+="<div class='tooth'>"+a+"</div>";n.innerHTML=e,n.style["-webkit-transform"]="translate3d(0,"+(8-2*s)+"em,0)",n.setAttribute("top",8-2*s+"em")}}}function u(t,e){return 1==e?(t+=D.minY,t%4==0&&t%100!=0||t%400==0&&t%4e3!=0?29:28):3==e||5==e||8==e||10==e?30:31}function h(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}clearInterval(e["int_"+e.id]),e["old_"+e.id]=t.targetTouches[0].screenY,e["o_t_"+e.id]=(new Date).getTime();var i=e.getAttribute("top");i?e["o_d_"+e.id]=parseFloat(i.replace(/em/g,"")):e["o_d_"+e.id]=0,e.style.webkitTransitionDuration=e.style.transitionDuration="0ms"}function v(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}e["new_"+e.id]=t.targetTouches[0].screenY,e["n_t_"+e.id]=(new Date).getTime();var i=30*(e["new_"+e.id]-e["old_"+e.id])/window.innerHeight;e["pos_"+e.id]=e["o_d_"+e.id]+i,e.style["-webkit-transform"]="translate3d(0,"+e["pos_"+e.id]+"em,0)",e.setAttribute("top",e["pos_"+e.id]+"em"),t.targetTouches[0].screenY<1&&m(t)}function m(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}var i=(e["new_"+e.id]-e["old_"+e.id])/(e["n_t_"+e.id]-e["o_t_"+e.id]);Math.abs(i)<=.2?e["spd_"+e.id]=i<0?-.08:.08:Math.abs(i)<=.5?e["spd_"+e.id]=i<0?-.16:.16:e["spd_"+e.id]=i/2,e["pos_"+e.id]||(e["pos_"+e.id]=0),g(e)}function g(t){function e(){t.style.webkitTransitionDuration=t.style.transitionDuration="200ms",a=!0}var i=0,a=!1,n=D.maxY-D.minY+1;clearInterval(t["int_"+t.id]),t["int_"+t.id]=setInterval(function(){var s=t["pos_"+t.id],r=t["spd_"+t.id]*Math.exp(-.03*i);if(s+=r,Math.abs(r)>.1);else{var o=2*Math.round(s/2);s=o,e()}switch(s>8&&(s=8,e()),t.dataset.datetype){case"date_yy":var l=8-2*(n-1);if(s<l&&(s=l,e()),a){var d=Math.abs(s-8)/2;p(t,d),clearInterval(t["int_"+t.id])}break;case"date_mm":var c=D.gearDate.querySelector(".date_yy"),h=parseInt(c.getAttribute("val")),v=11,m=0;h==n-1&&(v=D.maxM-1),0==h&&(m=D.minM-1);var l=8-2*(v-m);if(s<l&&(s=l,e()),a){var d=Math.abs(s-8)/2+m;p(t,d),clearInterval(t["int_"+t.id])}break;case"date_dd":var c=D.gearDate.querySelector(".date_yy"),g=D.gearDate.querySelector(".date_mm"),h=parseInt(c.getAttribute("val")),f=parseInt(g.getAttribute("val")),b=u(h,f),y=b-1,_=0;h==n-1&&D.maxM==f+1&&(y=D.maxD-1),0==h&&D.minM==f+1&&(_=D.minD-1);var l=8-2*(y-_);if(s<l&&(s=l,e()),a){var d=Math.abs(s-8)/2+_;p(t,d),clearInterval(t["int_"+t.id])}break;case"time_hh":if(s<-38&&(s=-38,e()),a){var d=Math.abs(s-8)/2;p(t,d),clearInterval(t["int_"+t.id])}break;case"time_mm":if(s<-110&&(s=-110,e()),a){var d=Math.abs(s-8)/2;p(t,d),clearInterval(t["int_"+t.id])}}t["pos_"+t.id]=s,t.style["-webkit-transform"]="translate3d(0,"+s+"em,0)",t.setAttribute("top",s+"em"),i++},30)}function p(t,e){e=Math.round(e),t.setAttribute("val",e),/date/.test(t.dataset.datetype)?d():c()}function f(t){t.preventDefault();var e;try{e=new CustomEvent("input")}catch(t){e=document.createEvent("Event"),e.initEvent("input",!0,!0)}D.trigger.dispatchEvent(e),document.body.removeChild(D.gearDate),D.gearDate=null}function b(t){var e=D.maxY-D.minY+1,i=parseInt(Math.round(D.gearDate.querySelector(".date_yy").getAttribute("val"))),a=parseInt(Math.round(D.gearDate.querySelector(".date_mm").getAttribute("val")))+1;a=a>9?a:"0"+a;var n=parseInt(Math.round(D.gearDate.querySelector(".date_dd").getAttribute("val")))+1;n=n>9?n:"0"+n,D.trigger.value=i%e+D.minY+"-"+a+"-"+n,f(t)}function y(t){var e=D.maxY-D.minY+1,i=parseInt(Math.round(D.gearDate.querySelector(".date_yy").getAttribute("val"))),a=parseInt(Math.round(D.gearDate.querySelector(".date_mm").getAttribute("val")))+1;a=a>9?a:"0"+a,D.trigger.value=i%e+D.minY+"-"+a,f(t)}function _(t){var e=D.maxY-D.minY+1,i=parseInt(Math.round(D.gearDate.querySelector(".date_yy").getAttribute("val"))),a=parseInt(Math.round(D.gearDate.querySelector(".date_mm").getAttribute("val")))+1;a=a>9?a:"0"+a;var n=parseInt(Math.round(D.gearDate.querySelector(".date_dd").getAttribute("val")))+1;n=n>9?n:"0"+n;var s=parseInt(Math.round(D.gearDate.querySelector(".time_hh").getAttribute("val")));s=s>9?s:"0"+s;var r=parseInt(Math.round(D.gearDate.querySelector(".time_mm").getAttribute("val")));r=r>9?r:"0"+r,D.trigger.value=i%e+D.minY+"-"+a+"-"+n+" "+(s.length<2?"0":"")+s+(r.length<2?":0":":")+r,f(t)}function x(t){var e=parseInt(Math.round(D.gearDate.querySelector(".time_hh").getAttribute("val")));e=e>9?e:"0"+e;var i=parseInt(Math.round(D.gearDate.querySelector(".time_mm").getAttribute("val")));i=i>9?i:"0"+i,D.trigger.value=(e.length<2?"0":"")+e+(i.length<2?":0":":")+i,f(t)}var D=this;D.trigger.addEventListener("click",{ym:a,date:e,datetime:s,time:o}[t])}},t}(),window.colorCity=function(){var t=function(){this.gearArea,this.data,this.index=0,this.value=[0,0,0]};return t.prototype={init:function(t){switch(this.params=t,this.trigger=document.querySelector(t.trigger),t.valueTo&&(this.valueTo=document.querySelector(t.valueTo)),this.keys=t.keys,this.type=t.type||1,this.type){case 1:case 2:break;default:throw new Error("错误提示: 没有这种数据源类型")}this.bindEvent()},getData:function(t){var e=this;if("object"==typeof e.params.data)e.data=e.params.data,t();else{var i=new XMLHttpRequest;i.open("get",e.params.data),i.onload=function(a){if(i.status>=200&&i.status<300||0===i.status){var n=JSON.parse(i.responseText);e.data=n.data,t&&t()}},i.send()}},bindEvent:function(){function t(t){o.gearArea=document.createElement("div"),o.gearArea.className="gearArea",o.gearArea.innerHTML='<div class="area_ctrl slideInUp"><div class="area_btn_box"><div class="area_btn colorCity_cancel">关闭</div><div class="area_btn colorCity_finish">确定</div></div><div class="area_roll_mask"><div class="area_roll"><div><div class="gear area_province" data-areatype="area_province"></div><div class="area_grid"></div></div><div><div class="gear area_city" data-areatype="area_city"></div><div class="area_grid"></div></div><div><div class="gear area_county" data-areatype="area_county"></div><div class="area_grid"></div></div></div></div></div>',document.body.appendChild(o.gearArea),e();var s=o.gearArea.querySelector(".colorCity_cancel");s.addEventListener("touchstart",function(t){o.close(t)});var r=o.gearArea.querySelector(".colorCity_finish");r.addEventListener("touchstart",function(t){o.finish(t)});var l=o.gearArea.querySelector(".area_province"),d=o.gearArea.querySelector(".area_city"),c=o.gearArea.querySelector(".area_county");l.addEventListener("touchstart",i),d.addEventListener("touchstart",i),c.addEventListener("touchstart",i),l.addEventListener("touchmove",a),d.addEventListener("touchmove",a),c.addEventListener("touchmove",a),l.addEventListener("touchend",n),d.addEventListener("touchend",n),c.addEventListener("touchend",n)}function e(){switch(o.gearArea.querySelector(".area_province").setAttribute("val",o.value[0]),o.gearArea.querySelector(".area_city").setAttribute("val",o.value[1]),o.gearArea.querySelector(".area_county").setAttribute("val",o.value[2]),o.type){case 1:o.setGearTooth(o.data);break;case 2:o.setGearTooth(o.data[0])}}function i(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}clearInterval(e["int_"+e.id]),e["old_"+e.id]=t.targetTouches[0].screenY,e["o_t_"+e.id]=(new Date).getTime();var i=e.getAttribute("top");i?e["o_d_"+e.id]=parseFloat(i.replace(/em/g,"")):e["o_d_"+e.id]=0,e.style.webkitTransitionDuration=e.style.transitionDuration="0ms"}function a(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}e["new_"+e.id]=t.targetTouches[0].screenY,e["n_t_"+e.id]=(new Date).getTime();var i=30*(e["new_"+e.id]-e["old_"+e.id])/window.innerHeight;e["pos_"+e.id]=e["o_d_"+e.id]+i,e.style["-webkit-transform"]="translate3d(0,"+e["pos_"+e.id]+"em,0)",e.setAttribute("top",e["pos_"+e.id]+"em"),t.targetTouches[0].screenY<1&&n(t)}function n(t){t.preventDefault();for(var e=t.target;;){if(e.classList.contains("gear"))break;e=e.parentElement}var i=(e["new_"+e.id]-e["old_"+e.id])/(e["n_t_"+e.id]-e["o_t_"+e.id]);Math.abs(i)<=.2?e["spd_"+e.id]=i<0?-.08:.08:Math.abs(i)<=.5?e["spd_"+e.id]=i<0?-.16:.16:e["spd_"+e.id]=i/2,e["pos_"+e.id]||(e["pos_"+e.id]=0),s(e)}function s(t){function e(){t.style.webkitTransitionDuration=t.style.transitionDuration="200ms",a=!0}var i=0,a=!1;clearInterval(t["int_"+t.id]),t["int_"+t.id]=setInterval(function(){var n=t["pos_"+t.id],s=t["spd_"+t.id]*Math.exp(-.03*i);if(n+=s,Math.abs(s)>.1);else{var o=2*Math.round(n/2);n=o,e()}n>0&&(n=0,e());var l=2*-(t.dataset.len-1);if(n<l&&(n=l,e()),a){var d=Math.abs(n)/2;r(t,d),clearInterval(t["int_"+t.id])}t["pos_"+t.id]=n,t.style["-webkit-transform"]="translate3d(0,"+n+"em,0)",t.setAttribute("top",n+"em"),i++},30)}function r(t,e){switch(e=Math.round(e),t.setAttribute("val",e),o.type){case 1:o.setGearTooth(o.data);break;case 2:switch(t.dataset.areatype){case"area_province":o.setGearTooth(o.data[0]);break;case"area_city":var i=t.childNodes[e].getAttribute("ref"),a=[],n=o.data[2];for(var s in n)if(s==i){a=n[s];break}o.index=2,o.setGearTooth(a)}}}var o=this;o.getData(function(){o.trigger.addEventListener("click",t)})},setGearTooth:function(t){var e=this,i=t||[],a=i.length,n=e.gearArea.querySelectorAll(".gear"),s=n[e.index].getAttribute("val"),r=a-1;if(s>r&&(s=r),n[e.index].setAttribute("data-len",a),a>0){var o,l=i[s][this.keys.id];switch(e.type){case 1:o=i[s].child;break;case 2:var d=e.data[e.index+1];for(var c in d)if(c==l){o=d[c];break}}for(var u="",c=0;c<a;c++)u+="<div class='tooth'  ref='"+i[c][this.keys.id]+"'>"+i[c][this.keys.name]+"</div>";if(n[e.index].innerHTML=u,n[e.index].style["-webkit-transform"]="translate3d(0,"+2*-s+"em,0)",n[e.index].setAttribute("top",2*-s+"em"),n[e.index].setAttribute("val",s),e.index++,e.index>2)return void(e.index=0);e.setGearTooth(o)}else n[e.index].innerHTML="<div class='tooth'></div>",n[e.index].setAttribute("val",0),1==e.index&&(n[2].innerHTML="<div class='tooth'></div>",n[2].setAttribute("val",0)),e.index=0},finish:function(t){var e=this,i=e.gearArea.querySelector(".area_province"),a=e.gearArea.querySelector(".area_city"),n=e.gearArea.querySelector(".area_county"),s=parseInt(i.getAttribute("val")),r=i.childNodes[s].textContent,o=i.childNodes[s].getAttribute("ref"),l=parseInt(a.getAttribute("val")),d=a.childNodes[l].textContent,c=a.childNodes[l].getAttribute("ref"),u=parseInt(n.getAttribute("val")),h=n.childNodes[u].textContent,v=n.childNodes[u].getAttribute("ref");e.trigger.value=r+(d?","+d:"")+(h?","+h:""),e.value=[s,l,u],this.valueTo&&(this.valueTo.value=o+(c?","+c:"")+(v?","+v:"")),e.close(t)},close:function(t){t.preventDefault();var e=this,i=new CustomEvent("input");e.trigger.dispatchEvent(i),document.body.removeChild(e.gearArea),e.gearArea=null}},t}(),function(t,e){"function"==typeof define&&define.amd?define(["$"],e):"object"==typeof exports?module.exports=e():t.AutoSearch=e(window.Zepto||window.jQuery||$)}(this,function(t){function e(){}return e.prototype={init:function(e){var i=Math.random().toString().replace(".","");this.id="autosearch_"+i,this.settings=t.extend({mutil:!1},e),this.input=t(this.settings.input),this.min=this.settings.min||1,this.data=this.settings.data,this.valueObj=t(this.settings.valueObj||this.settings.input),this.valueName=this.settings.valueName||"name",this.target=t(this.settings.target||this.settings.input),this.filterColumn=this.settings.filterColumn||["name"],this.column=this.settings.column||["name"],this.timer=null,this.content=null,this.mutilValueArr=[],this.mutilTextArr=[],this.createContent(),this.bindEvent()},bindEvent:function(){var e=this;this.target.click(function(){return e.settings.autoShow&&e.search(),!1}),this.input.on("focus",function(){var i=t(this);e.timer&&clearInterval(e.timer),e.timer=setInterval(function(){i.data("old")!=i.val()&&(e.search(),i.data("old",i.val()))},25),e.settings.focusCallback&&e.settings.focusCallback.call(e,e.input)}).on("keyup",function(i){var a=t(this);a.data("old")!=a.val()&&13!=i.keyCode&&(e.search(),a.data("old",a.val()))}).on("blur",function(){e.timer&&clearInterval(e.timer);var i=t(this);setTimeout(function(){e.hide(),i.attr("data-text")==i.val()||e.settings.mutil||(e.input.val(""),e.settings.resetCallback&&e.settings.resetCallback.call(e,e.input))},500),e.settings.blurCallback&&e.settings.blurCallback.call(e,e.input)}).on("keyup",function(i){switch(i.keyCode){case 40:var a=t(".item.current",e.content).index();a++,a=Math.min(t(".item",e.content).size()-1,a);var n=t(".item.current",e.content);if(t(".item",e.content).removeClass("current").eq(a).addClass("current"),n.size()){var s=t(".item.current",e.content).position(),r=n.outerHeight();if(s.top+r>t(e.content).height()){var o=t(e.content).scrollTop();o+=r,t(e.content).scrollTop(o)}}break;case 38:var a=t(".item.current",e.content).index();a--,a=Math.max(0,a),t(".item",e.content).removeClass("current").eq(a).addClass("current");var n=t(".item.current",e.content);if(n.size()){var s=t(".item.current",e.content).position(),r=n.outerHeight(),o=t(e.content).scrollTop();s.top<=0&&(o-=r,t(e.content).scrollTop(Math.max(o,0)))}break;case 13:t(".item.current",e.content).trigger("click"),setTimeout(function(){e.hide()},50)}}).on("keydown",function(t){13==t.keyCode&&t.preventDefault()}),this.content.on("click",".item",function(){var i=t(this).data("data"),a=t(this).text();1==e.settings.mutil?(e.mutilTextArr.push(a),e.mutilValueArr.push(i[e.valueName]),e.input.val(e.mutilTextArr.join(",")+","),e.valueObj.val(e.mutilValueArr.join(",")+","),e.input.attr("data-value",e.input.attr("data-value")),e.input.attr("data-text",e.mutilTextArr.join(",")+",")):(e.input.val(a),e.valueObj.val(i[e.valueName]),e.input.attr("data-value",i[e.valueName]),e.settings.valueObj?e.input.attr("data-text",a):e.input.attr("data-text",i[e.valueName])),e.settings.callback&&e.settings.callback.call(e,i),e.hide()}).on("mouseover",".item",function(){t(this).addClass("current").siblings().removeClass("current")}),t(document).click(function(){e.hide()})},createContent:function(){0==t("#"+this.id).size()&&(this.content=t('<div id="'+this.id+'" class="ui-autosearch-content"/>'),this.content.hide(),t("body").append(this.content))},show:function(){var t=this;t.content.show(),t.content.css({position:"absolute",zIndex:t.settings.zIndex||999,width:t.input.outerWidth()}),t.setPostion(),t.postimer=setInterval(function(){t.setPostion()},20),t.settings.showCallback&&t.settings.showCallback.call(t,t.input,t.content)},hide:function(){this.postimer&&clearInterval(this.postimer),this.content.hide()},search:function(){var t=this,e=t.input.val().split(",").pop();if(e.length>=t.min||t.settings.autoShow)if("function"==typeof t.data)t.getData();else{var i=t.filter(t.data);t.format(i),t.show()}else t.hide()},getData:function(){var t=this;this.settings.data(function(e){t.format(e),t.show()})},format:function(e){if(this.content.html(""),e)for(var i=0,a=e.length;i<a;i++){var n=e[i],s=t();if(this.settings.format)s=t(this.settings.format.call(this,n));else{for(var r="",o=0,l=this.column.length;o<l;o++)r+='<span class="'+this.column[o]+'">'+n[this.column[o]]+"</span>";s=t('<div class="item">'+r+"</div>")}s.data("data",n),this.content.append(s)}},filter:function(t){for(var e=this,i=e.input.val().split(",").pop(),a=[],n=0,s=t.length;n<s;n++)for(var r=t[n],o=0,l=this.filterColumn.length;o<l;o++){var d=r[this.filterColumn[o]];d.toString().indexOf(i)!=-1&&a.push(r)}return a},setPostion:function(){var t=this,e=t.input.offset();t.content.css({top:e.top+t.input.outerHeight(),left:e.left})}},e}),function(t,e){"function"==typeof define&&define.amd?define(["$"],e):"object"==typeof exports?module.exports=e():t.Mobile_upload=e(window.Zepto||window.jQuery||$)}(this,function(t){function e(){window.uploadCount=window.uploadCount||0,window.uploadCount++;var t=Math.random().toString().replace(".","");this.id="upload_"+t+window.uploadCount.toString(),this.fileInput=null}return t.fn.Mobile_upload=function(i){var a=[];return t(this).each(function(){var n=new e,s=t.extend({target:t(this)},i);n.init(s),a.push(n)}),a},e.prototype={init:function(e){this.settings=t.extend({},this.settings,e),this.target=this.settings.target,this.createFile(),this.name=this.settings.name||"files",this.bindEvent(),this.bindFileChange()},touch:function(e,i){function a(t){return i.call(this,t)}var n;t(e).on("click",a),t(e).on("touchmove",function(t){n=!0}).on("touchend",function(t){if(t.preventDefault(),!n){var e=i.call(this,t,"touch");e||(t.preventDefault(),t.stopPropagation())}n=!1})},createFile:function(){var e=this;e.fileInput&&e.fileInput.remove(),e.fileInput=t('<input type="file" style="position:absolute;top:0;left:0;width:1px;height:1px;opacity:0;"  accept="image/*" id="'+e.id+'"/>').hide(),t(e.target).after(e.fileInput),this.settings.multiple&&this.fileInput.attr("multiple","multiple"),this.bindFileChange()},bindEvent:function(e){var i=this;this.touch(t(this.target),function(e,a){return t(this).parent().siblings().size()>=i.settings.max?i.settings.maxCallback&&i.settings.maxCallback(this):t(i.fileInput).trigger("click"),!1}),i.bindFileEvent()},bindFileEvent:function(){t(this.fileInput).click(function(t){t.stopPropagation()})},bindFileChange:function(){var e=this;t(e.fileInput).off("change"),t(e.fileInput).on("change",function(i){var a=/^image\//i,n=i.target.files;if(e.settings.iframe){var s="up_"+Math.random().toString().replace(".","");e.postFrame(this,i,s)&&e.settings.startUpload&&e.settings.startUpload(e.fileInput,e.target,s)}else if(n)for(var r=n.length-1;r>=0;r--){var o=n[r];!function(i){var n=("key_"+Math.random().toString().replace(".",""),Math.random().toString().replace(".","")),s="up_"+n,r=!1,o=i.name.split("."),l=o[o.length-1];if(/^(jpg|jpeg)$/i.test(l)&&(l="jpeg"),""==i.type)for(var d=["jpeg","png","bmp","gif"],s=d.length-1;s>=0;s--){var c=new RegExp(d[s],"i");c.exec(l)&&(r=!0)}if(a.test(i.type)||r){if(t("#"+e.id).parent().siblings().size()+1>=e.settings.max&&e.settings.maxCallback&&e.settings.maxCallback(t("#"+e.id)),window.FileReader){var u=new FileReader;e.settings.startUpload&&e.settings.startUpload(e.fileInput,e.target,s),u.onload=function(){e.createFile(),e.bindFileEvent();var a=this.result,n=a.split("base64,"),r=n[0];if(5==r.length&&2==n.length&&(a=a.replace("data:base64,","data:image/"+l+";base64,")),e.settings.imageReady&&e.settings.imageReady(e.fileInput,e.target,a,s),e.settings.ajax){var o={};o[e.settings.ajax.name||"file"]=a,t.ajax({type:"post",url:e.settings.ajax.url,data:o,dataType:"json",success:function(t){e.settings.callback&&e.settings.callback(t,i,e.name,e.target,s)},complete:function(){e.settings.endUpload&&e.settings.endUpload(e.fileInput,e.target,s)}}),this.result=null,a=null,u.onload=null,u=null}else e.settings.callback&&e.settings.callback(a,i,e.name,e.target,s)},u.readAsDataURL(i)}}else alert("不是图片文件")}(o)}})}},e}),function(t,e){"function"==typeof define&&define.amd?define(["$"],e):"object"==typeof exports?module.exports=e():t.WordCount=e(window.Zepto||window.jQuery||$)}(this,function(t){t.fn.WordCount=function(i){var a=[];return t(this).each(function(){var n=new e,s=t.extend({trigger:t(this)},i);n.init(s),a.push(n)}),a};var e=function(){};return e.prototype={init:function(e){var i=this;this.args=e,this.textBox=t(e.trigger),this.settings=t.extend({},e),this.oldNumber=0,this.minHeight=e.minHeight,this.number=0,this.timer=null,this.overClass=e.overClass||"",this.changeCallback=e.changeCallback||null,this.max=0,this.overflowCallback=e.overflowCallback||null,this.passClallback=e.passClallback||null,this.isOverflowCut=e.isOverflowCut||!0,i.withButton=t(e.withButton),this.num=t(e.num),i.max=e.max||parseInt(i.textBox.attr("maxLength"))||0,i.textBox.bind("focus",function(){i.start()}).bind("blur",function(t){clearInterval(i.timer)}),this.bindEvent(),this.checkNum()},bindEvent:function(){var t=this;this.touch(this.withButton,function(){return t.getFullNumber(),!(t.max&&t.number>t.max)||(t.twinkle().done(function(){t.twinkle()}),!1)})},twinkle:function(){var t=this,e=null;return setTimeout(function(){t.textBox.addClass("error-number"),setTimeout(function(){t.textBox.removeClass("error-number"),e&&e()},100)},100),{done:function(t){e=t}}},touch:function(e,i,a){function n(t){return a.call(this,t)}var s;"function"==typeof i&&(a=i),t(e).on("touchmove",i,function(t){s=!0}).on("touchend",i,function(t){if(t.preventDefault(),!s){var e=a.call(this,t,"touch");e===!1&&(t.preventDefault(),t.stopPropagation())}s=!1}),t(e).on("mousedown",i,n)},start:function(){var t=this;t.timer=setInterval(function(){t.checkNum()},20)},checkNum:function(){var t=this;t.getFullNumber(),t.number!==t.oldNumber&&t.changeCallback&&(t.max&&t.number>t.max?t.overflowCallback?(t.num.addClass(t.overClass),t.textBox.addClass(t.overClass).attr("data-overflow",!0),t.overflowCallback(t,t.number,t.textBox,t.max)):t.isOverflowCut&&(t.textBox.val(t.textBox.val().slice(0,t.max)),t.getFullNumber()):(t.num.removeClass(t.overClass),t.textBox.removeClass(t.overClass).attr("data-overflow",""),t.passClallback&&t.passClallback.call(t,t.number,t.textBox,t.max)),t.num.html(t.max-t.number),t.changeCallback.call(t,t.number)),t.oldNumber=t.number,t.settings.minHeight&&(t.textBox.height(t.minHeight),t.textBox.height(t.textBox[0].scrollHeight))},getNumber:function(){return this.args.isByte?this.number=this.textBox.val().replace(/[^\x00-\xff]/g,"**").length:this.number=this.textBox.val().length,this.number},getFullNumber:function(){return this.number=this.textBox.val().replace(/[^\x00-\xff]/g,"**").length,this.number}},e}),function(t){t(function(){}),t.fn.extend({comboboxfilter:function(e){return"string"!=typeof arguments[0]?t.fn.comboboxfilter.methods.init(this,e):t.fn.comboboxfilter.methods[arguments[0]](this,arguments)}}),t.fn.comboboxfilter.methods={options:function(e){var i=t(e).data("comboboxfilter").options;return i},init:function(e,i){var a=this,n=t.extend({},t.fn.comboboxfilter.defaults,i);t(e).data("comboboxfilter",{options:n}),t(e).removeClass("hotel-filter-list filter-list-has-more hotel-filter-list-min").addClass("hotel-filter-list filter-list-has-more hotel-filter-list-min");var s=t('<div class="con"></div>').addClass(n.multiple?"checkbox":"radio");
if(n.unlimit){var r=t('<ul class="any"><li><a class="filter-unlimit filter-tag selected" href="javascript:;" data-value="">'+n.unlimitText+"</a></li></ul>").bind("click",function(){t(r).find(".filter-unlimit").removeClass("selected").addClass("selected"),a.clear(e)});s.append(r)}if(s.append('<ul class="list"></ul> <span class="J_FilterMore filter-more"><span class="open">更多</span><span class="close">收起</span><i></i></span>'),s.find(".open").unbind("click").bind("click",function(){t(e).removeClass("hotel-filter-list-min")}),s.find(".close").unbind("click").bind("click",function(){t(e).addClass("hotel-filter-list-min")}),t(e).html(t('<strong class="tit">'+n.text+"</strong>")),n.inputName&&t(e).append(t('<input type="hidden" name="'+n.inputName+'" value="">')),n.scope)if(t(e).attr("scope",n.scope),t("#"+n.scope).length>0);else{var o=t('<div id="'+n.scope+'" class="hotel-filter-list "><strong class="tit">已选</strong><div class="con selected-query"><ul  class="list"><li class="filter-query-clear"><a class="J_FilterQueryClear" href="javascript:;">全部清除</a></li></ul></div></div>');o.find(".J_FilterQueryClear").unbind("click").bind("click",function(){t('div[scope="'+n.scope+'"]').comboboxfilter("clear")}),t('div[scope="'+n.scope+'"]:eq(0)').before(o)}t(e).append(s),this.load(e,{})},reload:function(t){this.load(t,{})},load:function(e,i){var a=this,n=t.extend({},t.fn.comboboxfilter.methods.options(e),i);if(i.url)t.ajax({type:"post",data:n.param,url:n.url,success:function(i){"string"==typeof i&&(i=t.parseJSON(i));var s=t(e).find(".list").html("");a.setData(s,n,i,e)},error:function(t){a.onError(t)}});else{var s=t(e).find(".list").html("");a.setData(s,n,n.data,e)}},loadData:function(e,i){var a=this,n=a.options(e),s=t(e).find(".list").html("");a.setData(s,n,i,e)},setData:function(e,i,a,n){var s=this;t.each(a,function(a,r){var o=t(" <li></li>"),l=t('<a class="filter-tag" href="javascript:;" data-value="'+r[i.idField]+'" data-text="'+r[i.textField]+'">'+r[i.textField]+"<i></i></a>").data("data",r);l.unbind("click").bind("click",function(e){l.hasClass("selected")?l.removeClass("selected"):(i.multiple||t(n).find(".selected").trigger("click.selected-tag"),l.addClass("selected"),s.addSelected(t("#"+i.scope),l,r,i,n)),s.reSetValue(n),i.onClick(r)}),o.append(l),e.append(o)}),i.onLoadSuccess(a)},getValue:function(e){var i=t(e).find(".list .selected"),a=new Array;return t.each(i,function(e,i){a.push(t(i).attr("data-value"))}),a.join(",")},setValue:function(e,i){t(e).find(".selected").trigger("click.selected-tag");var a=this.options(e),n=t(e).find('.filter-tag[data-value="'+i[1]+'"]');if(n.length>0){n.addClass("selected");var s=t(n).data("data");this.addSelected(t("#"+a.scope),n,s,a,e)}this.reSetValue(e)},setValues:function(e,i){var a=this,n=this.options(e);n.multiple&&(t(e).find(".selected").trigger("click.selected-tag"),t.each(i[1],function(i,s){var r=t(e).find('.filter-tag[data-value="'+s+'"]');if(r.length>0){r.addClass("selected");var o=t(r).data("data");a.addSelected(t("#"+n.scope),r,o,n,e)}}),a.reSetValue(e))},addSelected:function(e,i,a,n,s){var r=this,o=t('<a href="javascript:;">'+a[n.textField]+"</a>"),l=t('<i class="J_FilterQueryDel" data-type="ParentCatelog" data-value="'+a[n.idField]+'"></i>').unbind("click").bind("click",function(e){t(i).trigger("click.selected-tag"),r.reSetValue(s)});t(i).unbind("click.selected-tag").bind("click.selected-tag",function(e){t(i).removeClass("selected"),t(o).closest(".selected-tag").remove(),t(i).unbind("click.selected-tag")}),o.append(l),e.find(".list").append(t('<li data-type="ParentCatelog" class="selected-tag"></li>').append(o))},reSetValue:function(e){var i=this.getValue(e);t(e).find('input[name="'+this.options(e).inputName+'"]').val(i),i?t(e).find(".filter-unlimit").removeClass("selected"):t(e).find(".filter-unlimit").addClass("selected"),this.options(e).onChange(i)},clear:function(e){t(e).find(".selected").trigger("click.selected-tag"),this.reSetValue(e)}},t.fn.comboboxfilter.parseOptions=function(e){return t.extend({},t.fn.datagrid.parseOptions(e),{})},t.fn.comboboxfilter.defaults={url:"",idField:"id",textField:"text",scope:"FilterQuery",text:"",multiple:!1,data:[],inputName:"",unlimit:!0,unlimitText:"不限",param:{},onClick:function(t){},onChange:function(t){},onLoadSuccess:function(t){},onError:function(t){}}}(jQuery),function(t,e,i,a){var n=function(){return this.init.apply(this,arguments)};n.prototype={defaults:{onstatechange:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"color-slider-theme-blue",width:500,disable:!1},template:'<div class="slider-container">\t\t\t<div class="back-bar">                <div class="selected-bar"></div>                <div class="pointer low"></div><div class="pointer-label">123456</div>                <div class="pointer high"></div><div class="pointer-label">456789</div>                <div class="clickable-dummy"></div>            </div>            <div class="scale"></div>\t\t</div>',init:function(e,i){this.options=t.extend({},this.defaults,i),this.inputNode=t(e),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:this.options.from),this.domNode=t(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=t(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=t(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=t(".scale",this.domNode),this.bar=t(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){return 0!==this.inputNode.width()||this.options.width?(this.domNode.width(this.options.width||this.inputNode.width()),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),void this.setValue(this.options.value)):void console.log("colorSlider : no width found, returning")},isSingle:function(){return"number"==typeof this.options.value||this.options.value.indexOf(",")===-1&&!this.options.isRange},attachEvents:function(){this.clickableBar.click(t.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",t.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(t){t.preventDefault()})},onDragStart:function(e){if(!(this.options.disable||"mousedown"===e.type&&1!==e.which)){e.stopPropagation(),e.preventDefault();var a=t(e.target);this.pointers.removeClass("last-active"),a.addClass("focused last-active"),this[(a.hasClass("low")?"low":"high")+"Label"].addClass("focused"),t(i).on("mousemove.slider touchmove.slider",t.proxy(this.onDrag,this,a)),t(i).on("mouseup.slider touchend.slider touchcancel.slider",t.proxy(this.onDragEnd,this))}},onDrag:function(t,e){e.stopPropagation(),e.preventDefault(),e.originalEvent.touches&&e.originalEvent.touches.length?e=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(e=e.originalEvent.changedTouches[0]);var i=e.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,t,i])},onDragEnd:function(e){this.pointers.removeClass("focused"),this.labels.removeClass("focused"),t(i).off(".slider")},barClicked:function(t){if(!this.options.disable){var e=t.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),e,!0,!0);else{var i=Math.abs(parseInt(this.pointers.first().css("left"),10)-e+this.pointers.first().width()/2)<Math.abs(parseInt(this.pointers.last().css("left"),10)-e+this.pointers.first().width()/2)?this.pointers.first():this.pointers.last();this.setPosition(i,e,!0,!0)}}},onChange:function(t,e,i,a){var n,s;e.isSingle()?(n=0,s=e.domNode.width()):(n=i.hasClass("high")?e.lowPointer.position().left+e.lowPointer.width()/2:0,s=i.hasClass("low")?e.highPointer.position().left+e.highPointer.width()/2:e.domNode.width());var r=Math.min(Math.max(a,n),s);e.setPosition(i,r,!0)},setPosition:function(t,e,i,a){var n,s=this.lowPointer.position().left,r=this.highPointer.position().left,o=this.highPointer.width()/2;i||(e=this.prcToPx(e)),t[0]===this.highPointer[0]?r=Math.round(e-o):s=Math.round(e-o),t[a?"animate":"css"]({left:Math.round(e-o)}),n=this.isSingle()?0:s+o,this.bar[a?"animate":"css"]({width:Math.round(r+o-n),left:n}),this.showPointerValue(t,e,a),this.isReadonly()},setValue:function(t){var e=t.toString().split(",");this.options.value=t;var i=this.valuesToPrc(2===e.length?e:[0,e[0]]);this.isSingle()?this.setPosition(this.highPointer,i[1]):(this.setPosition(this.lowPointer,i[0]),this.setPosition(this.highPointer,i[1]))},renderScale:function(){for(var e=this.options.scale||[this.options.from,this.options.to],i=Math.round(100/(e.length-1)*10)/10,a="",n=0;n<e.length;n++)a+='<span style="left: '+n*i+'%">'+("|"!=e[n]?"<ins>"+e[n]+"</ins>":"")+"</span>";this.scale.html(a),t("ins",this.scale).each(function(){t(this).css({marginLeft:-t(this).outerWidth()/2})})},getBarWidth:function(){var t=this.options.value.split(",");return t.length>1?parseInt(t[1],10)-parseInt(t[0],10):parseInt(t[0],10)},showPointerValue:function(e,i,n){var s,r=t(".pointer-label",this.domNode)[e.hasClass("low")?"first":"last"](),o=this.positionToValue(i);if(t.isFunction(this.options.format)){var l=this.isSingle()?a:e.hasClass("low")?"low":"high";s=this.options.format(o,l)}else s=this.options.format.replace("%s",o);var d=r.html(s).width(),c=i-d/2;c=Math.min(Math.max(c,0),this.options.width-d),r[n?"animate":"css"]({left:c}),this.setInputValue(e,o)},valuesToPrc:function(t){var e=100*(t[0]-this.options.from)/this.interval,i=100*(t[1]-this.options.from)/this.interval;return[e,i]},prcToPx:function(t){return this.domNode.width()*t/100},positionToValue:function(t){var e=t/this.domNode.width()*this.interval;return e+=this.options.from,Math.round(e/this.options.step)*this.options.step},setInputValue:function(t,e){if(this.isSingle())this.options.value=e.toString();else{var i=this.options.value.split(",");t.hasClass("low")?this.options.value=e+","+i[1]:this.options.value=i[0]+","+e}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()}};var s="colorSlider";t.fn[s]=function(i){var a,r=arguments;return this.each(function(){var o=t(this),l=t.data(this,"plugin_"+s),d="object"==typeof i&&i;l||(o.data("plugin_"+s,l=new n(this,d)),t(e).resize(function(){l.setValue(l.getValue())})),"string"==typeof i&&(a=l[i].apply(l,Array.prototype.slice.call(r,1)))}),a||this}}(jQuery,window,document);